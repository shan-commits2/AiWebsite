<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini AI Chat</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script>
    tailwind.config = {
        theme: {
            extend: {
                fontFamily: {
                    'inter': ['Inter', 'sans-serif']
                },
                colors: {
                    'gray-850': '#1f2937',
                    'gray-750': '#374151',
                    'gray-650': '#4b5563'
                },
                animation: {
                    'typing': 'typing 1.5s infinite',
                    'pulse-slow': 'pulse 2s infinite'
                },
                keyframes: {
                    typing: {
                        '0%, 60%': { opacity: '0.3' },
                        '30%': { opacity: '1' }
                    }
                }
            }
        }
    };
    </script>
    <style>
        .typing-dots {
            display: inline-flex;
            gap: 2px;
        }
        .typing-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: #9ca3af;
            animation: typing 1.5s infinite;
        }
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        .message-fade-in {
            animation: fadeInUp 0.3s ease-out;
        }
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #374151;
            border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #6b7280;
            border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #9ca3af;
        }
    </style>
</head>
<body class="bg-gray-900 font-inter text-white">
    <div class="flex h-screen">
        <!-- @COMPONENT: Sidebar -->
        <div class="hidden md:flex md:w-64 bg-gray-800 border-r border-gray-700 flex-col">
            <!-- Sidebar Header -->
            <div class="p-4 border-b border-gray-700">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-green-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-robot text-white text-sm"></i>
                    </div>
                    <h1 class="text-lg font-semibold">Gemini Chat</h1>
                </div>
            </div>
            
            <!-- New Chat Button -->
            <div class="p-4">
                <button class="w-full bg-gray-750 hover:bg-gray-650 transition-colors duration-200 rounded-lg p-3 flex items-center space-x-2 text-sm font-medium" data-event="click:newChat">
                    <i class="fas fa-plus"></i>
                    <span>New Chat</span>
                </button>
            </div>
            
            <!-- Conversation History -->
            <div class="flex-1 overflow-y-auto custom-scrollbar">
                <div class="px-3 space-y-1">
                    <!-- @MAP: conversations.map(conversation => ( -->
                    <div class="p-3 hover:bg-gray-750 rounded-lg cursor-pointer transition-colors duration-150 group" data-mock="true">
                        <div class="flex items-center justify-between">
                            <div class="flex-1 min-w-0">
                                <p class="text-sm font-medium text-gray-200 truncate">Getting started with AI</p>
                                <p class="text-xs text-gray-400 mt-1">2 hours ago</p>
                            </div>
                            <button class="opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-600 rounded">
                                <i class="fas fa-ellipsis-h text-xs text-gray-400"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-3 hover:bg-gray-750 rounded-lg cursor-pointer transition-colors duration-150 group" data-mock="true">
                        <div class="flex items-center justify-between">
                            <div class="flex-1 min-w-0">
                                <p class="text-sm font-medium text-gray-200 truncate">JavaScript best practices</p>
                                <p class="text-xs text-gray-400 mt-1">1 day ago</p>
                            </div>
                            <button class="opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-600 rounded">
                                <i class="fas fa-ellipsis-h text-xs text-gray-400"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-3 hover:bg-gray-750 rounded-lg cursor-pointer transition-colors duration-150 group" data-mock="true">
                        <div class="flex items-center justify-between">
                            <div class="flex-1 min-w-0">
                                <p class="text-sm font-medium text-gray-200 truncate">Recipe for chocolate cake</p>
                                <p class="text-xs text-gray-400 mt-1">3 days ago</p>
                            </div>
                            <button class="opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-600 rounded">
                                <i class="fas fa-ellipsis-h text-xs text-gray-400"></i>
                            </button>
                        </div>
                    </div>
                    <!-- @END_MAP )) -->
                </div>
            </div>
            
            <!-- User Profile -->
            <div class="p-4 border-t border-gray-700">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                        <i class="fas fa-user text-white text-sm"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-sm font-medium" data-bind="user.name">User</p>
                        <p class="text-xs text-gray-400">Free Plan</p>
                    </div>
                    <button class="p-1 hover:bg-gray-750 rounded">
                        <i class="fas fa-cog text-gray-400 text-sm"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: Sidebar -->
        
        <!-- @COMPONENT: MainChatArea -->
        <div class="flex-1 flex flex-col bg-gray-900">
            <!-- Mobile Header -->
            <div class="md:hidden bg-gray-800 border-b border-gray-700 p-4">
                <div class="flex items-center justify-between">
                    <button class="p-2 hover:bg-gray-750 rounded-lg">
                        <i class="fas fa-bars text-gray-400"></i>
                    </button>
                    <h1 class="text-lg font-semibold">Gemini Chat</h1>
                    <button class="p-2 hover:bg-gray-750 rounded-lg">
                        <i class="fas fa-plus text-gray-400"></i>
                    </button>
                </div>
            </div>
            
            <!-- Chat Messages Area -->
            <div class="flex-1 overflow-y-auto custom-scrollbar" id="chatMessages">
                <div class="max-w-4xl mx-auto px-4 py-8 space-y-6">
                    
                    <!-- Welcome Message -->
                    <div class="text-center py-12" data-mock="true">
                        <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6">
                            <i class="fas fa-robot text-white text-2xl"></i>
                        </div>
                        <h2 class="text-2xl font-semibold mb-2">Welcome to Gemini Chat</h2>
                        <p class="text-gray-400">Start a conversation and experience the power of AI</p>
                    </div>
                    
                    <!-- Sample Conversation -->
                    <div class="space-y-6" data-mock="true">
                        <!-- User Message -->
                        <div class="flex justify-end">
                            <div class="max-w-xs sm:max-w-md lg:max-w-lg xl:max-w-xl">
                                <div class="bg-blue-600 text-white rounded-2xl rounded-br-sm px-4 py-3 message-fade-in">
                                    <p class="text-sm sm:text-base">Hello! Can you help me understand the difference between machine learning and artificial intelligence?</p>
                                </div>
                                <div class="flex items-center justify-end space-x-2 mt-1">
                                    <span class="text-xs text-gray-400">12:34 PM</span>
                                    <i class="fas fa-check-double text-blue-400 text-xs"></i>
                                </div>
                            </div>
                        </div>
                        
                        <!-- AI Message -->
                        <div class="flex justify-start">
                            <div class="max-w-xs sm:max-w-md lg:max-w-lg xl:max-w-2xl">
                                <div class="flex items-center space-x-2 mb-2">
                                    <div class="w-6 h-6 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center">
                                        <i class="fas fa-robot text-white text-xs"></i>
                                    </div>
                                    <span class="text-sm font-medium text-green-400">Gemini AI</span>
                                </div>
                                <div class="bg-green-600 text-white rounded-2xl rounded-bl-sm px-4 py-3 message-fade-in">
                                    <p class="text-sm sm:text-base">Great question! Let me break this down for you:</p>
                                    <br>
                                    <p class="text-sm sm:text-base"><strong>Artificial Intelligence (AI)</strong> is the broader concept - it's the field of creating machines that can perform tasks that typically require human intelligence.</p>
                                    <br>
                                    <p class="text-sm sm:text-base"><strong>Machine Learning (ML)</strong> is a subset of AI. It's a specific approach where machines learn patterns from data without being explicitly programmed for every scenario.</p>
                                    <br>
                                    <p class="text-sm sm:text-base">Think of it like this: AI is the goal (making smart machines), while ML is one of the methods to achieve that goal.</p>
                                </div>
                                <div class="flex items-center space-x-2 mt-1">
                                    <span class="text-xs text-gray-400">12:34 PM</span>
                                    <div class="flex items-center space-x-1">
                                        <button class="p-1 hover:bg-gray-750 rounded text-gray-400 hover:text-white transition-colors">
                                            <i class="far fa-thumbs-up text-xs"></i>
                                        </button>
                                        <button class="p-1 hover:bg-gray-750 rounded text-gray-400 hover:text-white transition-colors">
                                            <i class="far fa-thumbs-down text-xs"></i>
                                        </button>
                                        <button class="p-1 hover:bg-gray-750 rounded text-gray-400 hover:text-white transition-colors">
                                            <i class="far fa-copy text-xs"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Typing Indicator (Hidden by default) -->
                        <div class="flex justify-start" id="typingIndicator" style="display: none;">
                            <div class="max-w-xs sm:max-w-md lg:max-w-lg">
                                <div class="flex items-center space-x-2 mb-2">
                                    <div class="w-6 h-6 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center">
                                        <i class="fas fa-robot text-white text-xs"></i>
                                    </div>
                                    <span class="text-sm font-medium text-green-400">Gemini AI</span>
                                </div>
                                <div class="bg-green-600 text-white rounded-2xl rounded-bl-sm px-4 py-3 flex items-center">
                                    <div class="typing-dots">
                                        <div class="typing-dot"></div>
                                        <div class="typing-dot"></div>
                                        <div class="typing-dot"></div>
                                    </div>
                                    <span class="ml-2 text-sm text-green-200">AI is typing...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Message Input Area -->
            <div class="bg-gray-800 border-t border-gray-700 p-4">
                <div class="max-w-4xl mx-auto">
                    <form class="relative" data-event="submit:handleSendMessage">
                        <div class="flex items-end space-x-3">
                            <div class="flex-1 relative">
                                <textarea 
                                    id="messageInput"
                                    rows="1" 
                                    placeholder="Type your message..." 
                                    class="w-full bg-gray-700 text-white rounded-xl px-4 py-3 pr-12 border border-gray-600 focus:border-blue-500 focus:outline-none resize-none max-h-32 overflow-y-auto custom-scrollbar"
                                    data-implementation="Should auto-resize and handle multiline input"
                                ></textarea>
                                
                                <!-- File Upload Button -->
                                <button type="button" class="absolute right-12 bottom-3 p-1 hover:bg-gray-600 rounded text-gray-400 hover:text-white transition-colors">
                                    <i class="fas fa-paperclip text-sm"></i>
                                </button>
                                
                                <!-- Emoji Button -->
                                <button type="button" class="absolute right-3 bottom-3 p-1 hover:bg-gray-600 rounded text-gray-400 hover:text-white transition-colors">
                                    <i class="far fa-smile text-sm"></i>
                                </button>
                            </div>
                            
                            <!-- Send Button -->
                            <button 
                                type="submit" 
                                class="bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-xl transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed"
                                id="sendButton"
                                data-implementation="Should be disabled when input is empty or AI is responding"
                            >
                                <i class="fas fa-paper-plane text-sm"></i>
                            </button>
                        </div>
                    </form>
                    
                    <!-- Footer -->
                    <div class="flex items-center justify-center mt-3">
                        <p class="text-xs text-gray-500">
                            AI can make mistakes. Verify important information.
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: MainChatArea -->
    </div>

    <script>
    (function() {
        // TODO: Implement Gemini API integration
        // TODO: Implement real-time message handling
        // TODO: Add message persistence
        // TODO: Add error handling for API failures
        
        // Mock functionality for demonstration
        const messageInput = document.getElementById('messageInput');
        const sendButton = document.getElementById('sendButton');
        const chatMessages = document.getElementById('chatMessages');
        const typingIndicator = document.getElementById('typingIndicator');
        
        // Auto-resize textarea
        messageInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = this.scrollHeight + 'px';
            
            // Enable/disable send button
            sendButton.disabled = this.value.trim() === '';
        });
        
        // Handle form submission
        document.querySelector('form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const message = messageInput.value.trim();
            if (!message) return;
            
            // Add user message to chat
            addMessage(message, 'user');
            
            // Clear input
            messageInput.value = '';
            messageInput.style.height = 'auto';
            sendButton.disabled = true;
            
            // Show typing indicator
            showTypingIndicator();
            
            // Simulate AI response delay
            setTimeout(() => {
                hideTypingIndicator();
                addMessage("I understand you're asking about: \"" + message + "\". This is a mock response. In the real implementation, this would be powered by the Gemini API.", 'ai');
            }, 2000);
        });
        
        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message-fade-in';
            
            const timestamp = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            if (sender === 'user') {
                messageDiv.innerHTML = `
                    <div class="flex justify-end mb-6">
                        <div class="max-w-xs sm:max-w-md lg:max-w-lg xl:max-w-xl">
                            <div class="bg-blue-600 text-white rounded-2xl rounded-br-sm px-4 py-3">
                                <p class="text-sm sm:text-base">${text}</p>
                            </div>
                            <div class="flex items-center justify-end space-x-2 mt-1">
                                <span class="text-xs text-gray-400">${timestamp}</span>
                                <i class="fas fa-check-double text-blue-400 text-xs"></i>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="flex justify-start mb-6">
                        <div class="max-w-xs sm:max-w-md lg:max-w-lg xl:max-w-2xl">
                            <div class="flex items-center space-x-2 mb-2">
                                <div class="w-6 h-6 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center">
                                    <i class="fas fa-robot text-white text-xs"></i>
                                </div>
                                <span class="text-sm font-medium text-green-400">Gemini AI</span>
                            </div>
                            <div class="bg-green-600 text-white rounded-2xl rounded-bl-sm px-4 py-3">
                                <p class="text-sm sm:text-base">${text}</p>
                            </div>
                            <div class="flex items-center space-x-2 mt-1">
                                <span class="text-xs text-gray-400">${timestamp}</span>
                                <div class="flex items-center space-x-1">
                                    <button class="p-1 hover:bg-gray-750 rounded text-gray-400 hover:text-white transition-colors">
                                        <i class="far fa-thumbs-up text-xs"></i>
                                    </button>
                                    <button class="p-1 hover:bg-gray-750 rounded text-gray-400 hover:text-white transition-colors">
                                        <i class="far fa-thumbs-down text-xs"></i>
                                    </button>
                                    <button class="p-1 hover:bg-gray-750 rounded text-gray-400 hover:text-white transition-colors">
                                        <i class="far fa-copy text-xs"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function showTypingIndicator() {
            typingIndicator.style.display = 'block';
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function hideTypingIndicator() {
            typingIndicator.style.display = 'none';
        }
        
        // Initialize send button state
        sendButton.disabled = true;
        
        // Handle Enter key (but allow Shift+Enter for new lines)
        messageInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                document.querySelector('form').dispatchEvent(new Event('submit'));
            }
        });
        
    })();
    </script>
</body>
</html>